//>>built
define(["dojo/_base/declare","dojo/_base/lang","dojo/_base/array"],function(k,l,f){return k([],{name:null,title:null,includeFields:null,excludeFields:null,displayFields:null,constructor:function(a,b,c,g,d,e){this.name=b;this.title=c;this.includeFields=g;this.excludeFields=d;this.displayFields=[];f.forEach(e,function(b){var c=a.findNode(b);c&&this.displayFields.push({fieldPath:b,fieldJson:c.getTemplateField()})},this)},hasField:function(a){var b=!1,c;for(c=0;c<this.includeFields.length;c++)if(0===
a.indexOf(this.includeFields[c])){b=!0;break}for(c=0;c<this.excludeFields.length;c++)if(0===a.indexOf(this.excludeFields[c])){b=!1;break}return b},getDisplayField:function(a){a=this.findFieldFromDisplay(a);return-1!==a?this.displayFields[a]:null},findFieldFromDisplay:function(a){var b;for(b=0;b<this.displayFields.length;b++)if(this.displayFields[b].fieldPath===a)return b;return-1},addFieldToDisplay:function(a){var b;b=this.findFieldFromDisplay(a.fieldPath);-1===b?this.displayFields.push({fieldPath:a.fieldPath,
fieldJson:a.fieldJson}):this.displayFields[b].fieldJson=a.fieldJson},removeFieldFromDisplay:function(a){var b;b=this.findFieldFromDisplay(a);0<=b&&this.displayFields.splice(b,1);return a},moveup:function(a){var b;a=this.findFieldFromDisplay(a);return 0<a?(b=this.displayFields[a],this.displayFields[a]=this.displayFields[a-1],this.displayFields[a-1]=b,!0):!1},movedown:function(a){var b;a=this.findFieldFromDisplay(a);return 0<=a&&a<this.displayFields.length-1?(b=this.displayFields[a],this.displayFields[a]=
this.displayFields[a+1],this.displayFields[a+1]=b,!0):!1},displayIsEmpty:function(){return 0===this.displayFields.length},deserialize:function(a,b){this.displayFields=[];f.forEach(a,function(a){function g(a,b){var c=-1,d;d=a.search(RegExp(b));0<=d&&(c=a.slice(d,a.length),c=c.indexOf("_config"),c=d+c+7);return c}var d,e;e=a.fieldName;var f=a.id,h="";d=g(e,"widgets[[0-9]+]_config");0<=d&&(e=a.fieldName.slice(0,d));d=g(a.id,"get_[0-9]+_config");0<=d&&(f=a.id.slice(0,d));if(e=b.findNode(e))h=e.id,d=g(e.id,
"get_[0-9]+_config"),0<=d&&(h=e.id.slice(0,d));f===h&&this.displayFields.push({fieldPath:a.fieldName,fieldJson:a})},this);return this.displayFields.length}})});