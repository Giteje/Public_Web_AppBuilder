//>>built
define("dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/request dojo/on dojo/Deferred dojo/promise/all ./Theme ../serviceUtils jimu/utils".split(" "),function(c,d,e,l,m,f,n,g,h,k){return c(null,{themes:void 0,constructor:function(){this.currentThemeName=null;this.themes=[]},loadThemes:function(){var a=new f;h.getAllThemes().then(e.hitch(this,function(b){b.success?(d.forEach(b.themes,function(a){k.processManifest(a,window.builderNls._locale);this.themes.push(new g(a))},this),a.resolve(this.themes)):
a.reject(this.themes)}),function(b){a.reject(this.themes)});return a},changeCurrentTheme:function(a){this.currentThemeName=a},getCurrentTheme:function(){return this.getThemeByName(this.currentThemeName)},getThemeByName:function(a){for(var b=0;b<this.themes.length;b++)if(a===this.themes[b].getName())return this.themes[b]}})});